# WiFi手机投屏GUI应用用户手册

## 📱 应用简介

WiFi手机投屏系统是一个基于Python和PyQt5开发的桌面应用，支持通过WiFi网络将手机屏幕实时投屏到电脑上。支持多种投屏协议，包括RTSP、ADB和WebRTC。

## 🚀 快速开始

### 1. 安装依赖

首先安装必要的Python包：

```bash
# 安装GUI依赖
pip install -r requirements_gui.txt

# 或者手动安装核心依赖
pip install PyQt5 qasync
```

### 2. 启动应用

有两种启动方式：

#### 方式一：使用启动脚本（Windows）
```bash
双击 start_wifi_mirroring.bat
```

#### 方式二：直接运行
```bash
python phone_mirroring/app.py
```

### 3. 配置设置

1. 打开"设置"标签页
2. 根据需要调整视频质量：
   - **分辨率**: 1920x1080(高清)、1280x720(推荐)、854x480(流畅)
   - **帧率**: 15-60 fps（推荐30）
   - **码率**: 500kbps-8Mbps（推荐2Mbps）
3. 选择启用的协议（至少启用RTSP）
4. 点击"保存设置"

### 4. 启动服务器

1. 切换到"服务器"标签页
2. 点击"🚀 启动服务器"按钮
3. 等待服务器启动成功
4. 记录显示的WiFi投屏地址

## 📱 手机连接方法

### Android手机

#### 方法一：RTSP播放器（推荐）
1. 下载支持RTSP的视频播放器（如VLC、MX Player）
2. 打开播放器，选择"网络流"或"打开网络串流"
3. 输入地址：`rtsp://电脑IP:8080/stream`
4. 点击播放

#### 方法二：ADB USB连接
1. 手机通过USB连接到电脑
2. 启用"USB调试"（开发者选项中）
3. 启动服务器，自动检测并投屏

#### 方法三：Android应用
1. 开发专用Android应用，直接连接到服务器
2. 在手机上输入WiFi投屏地址

### iOS手机

#### AirPlay连接（需要额外开发）
1. 确保iOS设备和电脑在同一WiFi
2. 在iOS控制中心选择"屏幕镜像"
3. 选择投屏设备

## 🎯 功能说明

### 服务器控制
- **启动/停止**: 一键控制投屏服务
- **状态显示**: 实时显示服务器运行状态
- **WiFi地址**: 自动显示本机IP和连接信息
- **统计信息**: 显示运行时间、连接设备数、数据流量等

### 设备管理
- **设备列表**: 显示所有已连接的设备
- **设备详情**: 查看设备信息和连接质量
- **断开连接**: 手动断开指定设备
- **刷新列表**: 更新设备状态

### 视频设置
- **分辨率**: 调整投屏分辨率
- **帧率**: 控制视频流畅度
- **码率**: 平衡画质和网络性能
- **预设**: 快速选择推荐配置

### 日志查看
- **实时日志**: 显示服务器运行日志
- **日志过滤**: 按级别过滤日志信息
- **导出日志**: 保存日志到文件
- **清空日志**: 清除当前日志

## 🛠️ 故障排除

### 常见问题

#### 1. 无法启动应用
- 检查Python版本（需要3.7+）
- 确保已安装PyQt5和qasync
- 运行：`pip install PyQt5 qasync`

#### 2. 服务器启动失败
- 检查端口是否被占用（默认8080）
- 在设置中更换其他端口
- 检查防火墙设置

#### 3. 手机无法连接
- 确保手机和电脑在同一WiFi网络
- 检查IP地址是否正确
- 确认路由器支持设备间通信
- 关闭VPN或代理

#### 4. 连接后黑屏
- 检查视频编码设置
- 降低分辨率或码率
- 确保手机投屏权限已开启

#### 5. 画面卡顿
- 降低分辨率（从1080p改720p）
- 减少帧率（从60改30）
- 降低码率
- 启用"自适应码率"

### 性能优化建议

#### 网络优化
- 使用5GHz WiFi网络
- 距离路由器不要太远
- 避免网络拥堵时段

#### 电脑配置
- CPU: 双核2.0GHz以上
- 内存: 4GB以上
- 网络: 千兆网卡

#### 手机设置
- 关闭不必要的后台应用
- 降低手机屏幕亮度
- 使用高性能模式

## 📞 技术支持

### 获取帮助
- 查看应用日志：点击"日志"标签页
- 保存日志：点击"保存日志"按钮
- 提交问题：附上日志和错误截图

### 开发者信息
- 版本: v1.0
- 框架: PyQt5 + asyncio
- 协议: RTSP, ADB, WebRTC
- 许可: MIT License

## 🔄 更新日志

### v1.0.0
- ✅ 实现基础GUI界面
- ✅ 支持RTSP协议投屏
- ✅ 支持ADB USB连接
- ✅ 实现设备管理
- ✅ 添加性能监控
- ✅ 支持设置保存/加载

## 📚 相关资源

- [RTSP协议文档](https://tools.ietf.org/html/rfc2326)
- [PyQt5官方文档](https://www.riverbankcomputing.com/software/pyqt/)
- [qasync文档](https://github.com/CabbageDevelopment/qasync)
- [Android调试桥](https://developer.android.com/studio/command-line/adb)

---

**感谢使用WiFi手机投屏系统！** 🎉

如有问题或建议，请提交Issue或发送邮件反馈。